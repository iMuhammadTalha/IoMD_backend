CREATE DATABASE iomd;

CREATE TABLE IF NOT EXISTS public.admin
(
    id bigint NOT NULL,
    name character(255) NOT NULL,
    email character(255) NOT NULL,
    password character(255) NOT NULL,
    CONSTRAINT admin_pkey PRIMARY KEY (id)
)
ALTER TABLE public.admin
    OWNER to postgres;


CREATE TABLE IF NOT EXISTS public.doctor
(
    id bigserial NOT NULL,
    name character(255) NOT NULL,
    pmdc_no character(200),
    contact_no character(25) NOT NULL,
    email character(255) NOT NULL,
    specialization character(200),
    password character(200) NOT NULL,
    PRIMARY KEY (id)
);

ALTER TABLE public.doctor
    OWNER to postgres;

    

CREATE TABLE IF NOT EXISTS public.patient
(
    id bigserial NOT NULL,
    doctor_id bigserial,
    name text NOT NULL,
    date_of_birth date,
    gender text NOT NULL,
    contact_no text NOT NULL,
    email text NOT NULL,
    address text,
    city text,
    height integer,
    weight integer,
    PRIMARY KEY (id),
    FOREIGN KEY (doctor_id)
        REFERENCES public.doctor (id) MATCH SIMPLE
        ON UPDATE RESTRICT
        ON DELETE RESTRICT
        NOT VALID
);

ALTER TABLE public.patient
    OWNER to postgres;